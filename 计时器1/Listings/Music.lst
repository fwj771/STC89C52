C51 COMPILER V9.54   MUSIC                                                                 10/15/2025 20:15:33 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MUSIC
OBJECT MODULE PLACED IN .\Objects\Music.obj
COMPILER INVOKED BY: D:\Keil\Keil5 C51\C51\BIN\C51.EXE Music.c OMF2 OPTIMIZE(8,SPEED) BROWSE DEBUG PRINT(.\Listings\Musi
                    -c.lst) TABS(2) OBJECT(.\Objects\Music.obj)

line level    source

   1          #include <REGX51.H>
   2          #include "Buzzer.h"
   3          #include "DelayMs.h"
   4          
   5          #define NOTE_C5 523
   6          #define NOTE_G5 784
   7          #define NOTE_A5 880
   8          #define NOTE_REST 0
   9          
  10          typedef struct {
  11            unsigned int freq;
  12            unsigned int duration;
  13          } MusicNote;
  14          
  15          const MusicNote LittleStar[] = {
  16            {NOTE_C5, 500}, {NOTE_C5, 500},
  17            {NOTE_G5, 500}, {NOTE_G5, 500},
  18            {NOTE_A5, 500}, {NOTE_A5, 500},
  19            {NOTE_G5, 1000}
  20          };
  21          
  22          unsigned char index = 0;
  23          //计算数组 LittleStar 一共有多少个音符
  24          unsigned char length = sizeof(LittleStar) / sizeof(MusicNote);
  25          
  26          void MusicPlay(void)
  27          {
  28   1        if(index < length)
  29   1        {
  30   2          SetFreq(LittleStar[index].freq);
  31   2          DelayMs(LittleStar[index].duration);
  32   2          SetFreq(0);
  33   2          DelayMs(50);
  34   2          index++;
  35   2        }
  36   1        else
  37   1        {
  38   2          index = 0; 
  39   2        }
  40   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     61    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     30    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
C51 COMPILER V9.54   MUSIC                                                                 10/15/2025 20:15:33 PAGE 2   

END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
